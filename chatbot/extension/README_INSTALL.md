# 划词翻译Chrome扩展

## 功能特点

- ✅ **选中文本翻译**: 在任何网页上选中文本，自动显示翻译图标
- ✅ **点击翻译**: 点击翻译图标弹出翻译结果窗口  
- ✅ **智能语言检测**: 自动检测文本语言，中文翻译成英文，其他语言翻译成中文
- ✅ **多语言支持**: 支持中文、英文、日文、韩文、法文、德文等多种语言
- ✅ **右键菜单**: 右键选中文本可快速翻译
- ✅ **设置面板**: 可自定义翻译设置和语言偏好
- ✅ **DeepSeek API**: 使用本地DeepSeek API进行智能翻译
- ✅ **自定义提示词**: 可自定义翻译方式和要求
- ✅ **模型选择**: 支持Chat和Reasoner模型

## 安装方法

1. **下载扩展文件**: 确保你有完整的扩展文件夹，包含以下文件：
   ```
   extension/
   ├── manifest.json
   ├── content.js
   ├── content.css
   ├── background.js
   ├── popup.html
   ├── popup.js
   ├── icons/
   └── README_INSTALL.md
   ```

2. **打开Chrome扩展页面**:
   - 在Chrome浏览器中输入: `chrome://extensions/`
   - 或者点击右上角三点菜单 → 更多工具 → 扩展程序

3. **启用开发者模式**:
   - 点击右上角的"开发者模式"开关

4. **加载扩展**:
   - 点击"加载已解压的扩展程序"
   - 选择extension文件夹
   - 点击"选择文件夹"

5. **验证安装**:
   - 扩展安装成功后，在扩展列表中会看到"划词翻译助手"
   - 浏览器工具栏会出现翻译图标

## 使用方法

### 1. 配置API Key
**重要**: 使用前必须先配置DeepSeek API Key
- 访问 [https://platform.deepseek.com](https://platform.deepseek.com) 获取API Key
- 点击浏览器工具栏的扩展图标
- 在设置中输入你的DeepSeek API Key

### 2. 划词翻译
- 在任何网页上用鼠标选中要翻译的文本
- 会自动显示蓝色的翻译图标(🌐)在鼠标旁边
- 点击图标查看DeepSeek AI的翻译结果

### 3. 右键翻译
- 选中文本后右键点击
- 选择"翻译选中文本"菜单项

### 4. 自定义设置
- 点击浏览器工具栏的扩展图标
- 可以设置：
  - DeepSeek API Key
  - 选择翻译模型 (Chat快速/Reasoner推理)
  - 自定义提示词 (默认: "把这段文本翻译为现代中文并标注典故")
  - 启用/禁用划词翻译
- 还可以在弹窗中直接输入文本进行翻译

## 注意事项

1. **API Key安全**: 请妥善保管你的DeepSeek API Key，不要分享给他人
2. **网络要求**: 需要互联网连接来访问DeepSeek API
3. **API限制**: 根据你的API套餐可能有请求频率和额度限制
4. **隐私**: 翻译的文本会发送到DeepSeek API进行处理
5. **错误处理**: 如果DeepSeek API不可用，会显示相应的错误信息

## 自定义图标（可选）

如果想添加自定义图标，请在`icons/`文件夹中添加以下文件：
- `icon16.png` (16x16像素)
- `icon48.png` (48x48像素)  
- `icon128.png` (128x128像素)

## 故障排除

1. **扩展无法加载**: 
   - 检查文件路径和权限
   - 确保所有文件都在extension文件夹中
   - 重新加载扩展

2. **翻译不工作**: 
   - 检查网络连接
   - 打开开发者工具查看控制台错误
   - 确保选中的文本长度在1-1000字符之间

3. **图标不显示**: 
   - 可能是网站CSS冲突，尝试刷新页面
   - 检查是否有其他扩展冲突

4. **权限错误**:
   - 确保manifest.json配置正确
   - 重新安装扩展

5. **右键菜单不出现**:
   - 确保contextMenus权限已添加
   - 重新加载扩展

## 开发说明

这是一个基于Manifest V3的Chrome扩展，主要文件说明：
- `manifest.json`: 扩展配置文件
- `content.js`: 网页内容脚本，处理文本选择和UI显示
- `background.js`: 后台服务脚本，处理扩展逻辑
- `popup.html/js`: 扩展弹窗页面和逻辑

可以根据需要修改翻译API或添加更多功能。